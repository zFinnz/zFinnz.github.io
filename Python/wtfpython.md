<p align="center"><img src="/images/logo.png" alt=""></p>
<h1 align="center"> What the f*ck Python! ğŸ </h1>
<p align="center"> Má»™t bá»™ sÆ°u táº­p thÃº vá»‹ cÃ¡c Ä‘oáº¡n mÃ£ gÃ¢y ngáº¡c nhiÃªn vÃ  cÃ¡c tÃ­nh nÄƒng Python Ã­t Ä‘Æ°á»£c biáº¿t Ä‘áº¿n.</p>

Python, lÃ  ngÃ´n nhá»¯ láº­p trÃ¬nh cáº¥p cao vÃ  lÃ  ngÃ´n ngá»¯ thÃ´ng dá»‹ch, cung cáº¥p cho láº­p trÃ¬nh viÃªn nhiá»u tÃ­nh nÄƒng háº¥p dáº«n.NhÆ°ng Ä‘Ã´i khi, káº¿t quáº£ cá»§a nhá»¯ng Ä‘oáº¡n mÃ£ Python láº¡i khÃ´ng giá»‘ng nhÆ° ngÆ°á»i dÃ¹ng thÃ´ng thÆ°á»ng nghÄ©.

ÄÃ¢y lÃ  má»™t dá»± Ã¡n thÃº vá»‹ Ä‘á»ƒ thu tháº­p cÃ¡c vÃ­ dá»¥ tiÃªu biá»ƒu vÃ  pháº£n Ã¡nh trá»±c quan cÃ¡c tÃ­nh nÄƒng Ã­t Ä‘Æ°á»£c biáº¿t Ä‘áº¿n hÆ¡n trong Python, cá»‘ gáº¯ng tháº£o luáº­n chÃ­nh xÃ¡c nhá»¯ng gÃ¬ Ä‘ang xáº£y ra !

Náº¿u báº¡n lÃ  má»™t láº­p trÃ¬nh viÃªn Python cÃ³ kinh nghiá»‡m, báº¡n cÃ³ thá»ƒ quen thuá»™c vá»›i nhá»¯ng vÃ­ dá»¥ nÃ y, vÃ  nhá»¯ng vÃ­ dá»¥ nÃ y sáº½ giÃºp báº¡n há»“i tÆ°á»Ÿng láº¡i nhá»¯ng ká»· niá»‡m ngá»t ngÃ o cá»§a báº¡n vá» nhá»¯ng lá»—i bug nÃ y :sweat_smile:

Náº¿u báº¡n lÃ  ngÆ°á»i Ä‘á»c má»›i, báº¡n cÃ³ thá»ƒ tÃ¬m hiá»ƒu nhá»¯ng lá»—i sau Ä‘á»ƒ trÃ¡nh máº¯c pháº£i trong tÆ°Æ¡ng lai.

NÃ o, chÃºng ta cÃ¹ng báº¯t Ä‘áº§u...

# Má»¥c Lá»¥c

- [ğŸ‘€ VÃ­ dá»¥](#-vÃ­-dá»¥)
  - [Pháº§n 1: HÃ£y cÄƒng nÃ£o báº¡n ra!](#pháº§n-1-hÃ£y-cÄƒng-nÃ£o-báº¡n-ra)
    - [â–¶ Thá»‰nh thoáº£ng chuá»—i ráº¥t khÃ³ váº­n dá»¥ng](#-thá»‰nh-thoáº£ng-chuá»—i-ráº¥t-khÃ³-váº­n-dá»¥ng)
    - [â–¶ Thá»i gian cho hÃ m bÄƒm](#-thá»i-gian-cho-hÃ m-bÄƒm)
    - [â–¶ Trong sÃ¢u tháº³m, chÃºng ta Ä‘á»u giá»‘ng nhau!.](#-trong-sÃ¢u-tháº³m-chÃºng-ta-Ä‘á»u-giá»‘ng-nhau-)
    - [â–¶ Sai lá»‡ch thá»i gian Ä‘Ã¡nh giÃ¡](#-sai-lá»‡ch-thá»i-gian-Ä‘Ã¡nh-giÃ¡)
    - [â–¶ `is` `is not` lÃ  gÃ¬!](#-is-is-not-lÃ -gÃ¬)
    - [â–¶ HÃ m output bá»‹ dÃ­nh](#-hÃ m-output-bá»‹-dÃ­nh)
    - [â–¶ `is not ...` khÃ´ng pháº£i lÃ  `is (not ...)`](#-is-not--khÃ´ng-pháº£i-lÃ -is-not-)
    - [â–¶ Dáº¥u pháº£y thÃº vá»‹](#-dáº¥u-pháº£y-thÃº-vá»‹)
    - [â–¶ KhÃ´ng báº¯c cáº§u!!](#-khÃ´ng-báº¯c-cáº§u)
    - [â–¶ Má»™t ná»­a ba - chuá»—i trÃ­ch dáº«n](#-má»™t-ná»­a-ba--chuá»—i-trÃ­ch-dáº«n)
    - [â–¶ Chuyá»‡n gÃ¬ xáº£y ra vá»›i kiá»ƒu Booleans?](#-chuyá»‡n-gÃ¬-xáº£y-ra-vá»›i-kiá»ƒu-booleans)
    - [â–¶ Thuá»™c tÃ­nh Class vÃ  thuá»™c tÃ­nh instance](#-thuá»™c-tÃ­nh-class-vÃ -thuá»™c-tÃ­nh-instance)
    - [â–¶ Thay Ä‘á»•i sá»± báº¥t biáº¿n!](#-thay-Ä‘á»•i-sá»±-báº¥t-biáº¿n)
    - [â–¶ Biáº¿n bá»‹ xÃ³a khá»i pháº¡m vi bÃªn ngoÃ i](#-biáº¿n-bá»‹-xÃ³a-khá»i-pháº¡m-vi-bÃªn-ngoÃ i)
    - [â–¶ Khi `True` láº¡i lÃ  `False`](#-khi-true-láº¡i-lÃ -false)
    - [â–¶ Tá»« Ä‘áº§y Ä‘áº¿n khÃ´ng cÃ³ gÃ¬ trong má»™t chá»‰ dáº«n...](#-tá»«-Ä‘áº§y-Ä‘áº¿n-khÃ´ng-cÃ³-gÃ¬-trong-má»™t-chá»‰-dáº«n)
    - [â–¶ Báº¡n cÃ³ thá»ƒ Ä‘oÃ¡n Ä‘Æ°á»£c Ä‘iá»u nÃ y khÃ´ng?](#-báº¡n-cÃ³-thá»ƒ-Ä‘oÃ¡n-Ä‘Æ°á»£c-Ä‘iá»u-nÃ y-khÃ´ng)
  - [Pháº§n 2: Cáº©n tháº­n sÃ¡t thÆ°Æ¡ng diá»‡n rá»™ng!](#pháº§n-2-cáº©n-tháº­n-sÃ¡t-thÆ°Æ¡ng-diá»‡n-rá»™ng)
    - [â–¶ Chá»‰nh sá»­a má»™t tá»« Ä‘iá»ƒn trong khi Iterating](#-chá»‰nh-sá»­a-má»™t-tá»«-Ä‘iá»ƒn-trong-khi-iterating)
    - [â–¶ XÃ³a má»™t pháº§n tá»­ trong list trong khi iterating](#-xÃ³a-má»™t-pháº§n-tá»­-trong-list-trong-khi-iterating)
    - [â–¶ RÃ² rá»‰ biáº¿n vÃ²ng láº·p!](#-rÃ²-rá»‰-biáº¿n-vÃ²ng-láº·p)
    - [â–¶ HÃ£y coi chá»«ng cÃ¡c Ä‘á»‘i sá»‘ máº·c Ä‘á»‹nh cÃ³ thá»ƒ thay Ä‘á»•i!](#-hÃ£y-coi-chá»«ng-cÃ¡c-Ä‘á»‘i-sá»‘-máº·c-Ä‘á»‹nh-cÃ³-thá»ƒ-thay-Ä‘á»•i)
    - [â–¶ CÃ¹ng toÃ¡n háº¡ng, nhÆ°ng lÃ  hai chuyá»‡n khÃ¡c nhau!](#-cÃ¹ng-toÃ¡n-háº¡ng-nhÆ°ng-lÃ -hai-chuyá»‡n-khÃ¡c-nhau)
    - [â–¶ VÆ°á»£t qua khá»i pháº¡m vi biáº¿n](#-vÆ°á»£t-qua-khá»i-pháº¡m-vi-biáº¿n)
    - [â–¶ HÃ£y cáº©n tháº­n vá»›i toÃ¡n tá»­](#-hÃ£y-cáº©n-tháº­n-vá»›i-toÃ¡n-tá»­)
    - [â–¶ TÃªn quyáº¿t Ä‘á»‹nh bá» qua pháº¡m vi biáº¿n](#-tÃªn-quyáº¿t-Ä‘á»‹nh-bá»-qua-pháº¡m-vi-biáº¿n)
    - [â–¶ Cáº¯t xáº» thá»i gian!](#-cáº¯t-xáº»-thá»i-gian-)
    - [â–¶ += cÃ³ nhanh hÆ¡n](#--cÃ³-nhanh-hÆ¡n)
    - [â–¶ Cáº¥u trÃºc rÃµ rÃ ng cá»§a chuá»‘i](#-cáº¥u-trÃºc-rÃµ-rÃ ng-cá»§a-chuá»‘i)


# ğŸ‘€ VÃ­ dá»¥



### â–¶ Thá»‰nh thoáº£ng chuá»—i ráº¥t khÃ³ váº­n dá»¥ng! *

1\.
```py
>>> a = "hello_world"
>>> id(a)
91596096L
>>> id("hello" + "_" + "world") # 2 id trÃªn Ä‘á»u giá»‘ng nhau.
91596096L
```

2\.
```py
>>> a = "wtf"
>>> b = "wtf"
>>> a is b
True

>>> a = "wtf!"
>>> b = "wtf!"
>>> a is b
False
```

3\.
```py
>>> 'a' * 20 is "aaaaaaaaaaaaaaaaaaaa"
True
>>> 'a' * 21 is "aaaaaaaaaaaaaaaaaaaaa"
False
>>>
```

Tháº­t khÃ³ hiá»ƒu, Ä‘Ãºng khÃ´ng?
#### ğŸ’¡ Giáº£i thÃ­ch:
+ HÃ nh vi nhÆ° váº­y lÃ  do tá»‘i Æ°u hÃ³a CPython (gá»i lÃ  chuá»—i ná»™i trÃº) cá»‘ gáº¯ng sá»­ dá»¥ng cÃ¡c Ä‘á»‘i tÆ°á»£ng khÃ´ng thay Ä‘á»•i hiá»‡n cÃ³ trong má»™t sá»‘ trÆ°á»ng há»£p hÆ¡n lÃ  táº¡o Ä‘á»‘i tÆ°á»£ng má»›i má»—i láº§n.
+ Sau khi Ä‘Æ°á»£c ná»™i trÃº, nhiá»u biáº¿n cÃ³ thá»ƒ trá» Ä‘áº¿n cÃ¹ng má»™t Ä‘á»‘i tÆ°á»£ng chuá»—i trong bá»™ nhá»› (do Ä‘Ã³ tiáº¿t kiá»‡m bá»™ nhá»›).
+ Trong cÃ¡c Ä‘oáº¡n mÃ£ trÃªn, chuá»—i ná»™i trÃº Ä‘Æ°á»£c ngáº§m thá»±c hiá»‡n. Quyáº¿t Ä‘á»‹nh khi tham chiáº¿u vÃ o má»™t ná»™i trÃº sáº½ phá»¥ thuá»™c vÃ o má»™t sá»‘ Ä‘iá»u kiá»‡n sau mÃ  sáº½ Ä‘Æ°á»£c ná»™i trÃº hoáº·c khÃ´ng:
  * Táº¥t cáº£ chuá»—i cÃ³ chiá»u dÃ i 0 vÃ  1 sáº½ Ä‘Æ°á»£c ná»™i trÃº.
  * Chuá»—i Ä‘Æ°á»£c ná»™i trÃº trong thá»i gian biÃªn dá»‹ch (`'wtf'` sáº½ Ä‘Æ°á»£c ná»™i trÃº nhÆ°ng `''.join(['w', 't', 'f']` sáº½ khÃ´ng Ä‘Æ°á»£c ná»™i trÃº)
  * CÃ¡c chuá»—i khÃ´ng bao gá»“m kÃ­ tá»± ASCII, chá»¯ sá»‘ hoáº·c dáº¥u gáº¡ch dÆ°á»›i, sáº½ khÃ´ng Ä‘Æ°á»£c ná»™i trÃº. Äiá»u nÃ y giáº£i thÃ­ch táº¡i sao `'wtf!'` khÃ´ng Ä‘Æ°á»£c ná»™i trÃº do cÃ³ kÃ­ tá»± `!`.
  * Nhá»¯ng chuá»—i cÃ³ chiá»u dÃ i lá»›n hÆ¡n 20 sáº½ khÃ´ng Ä‘Æ°á»£c ná»™i trÃº.

  ---

  ### â–¶ Thá»i gian cho hÃ m bÄƒm!

  1\.
```py
>>> some_dict = {}
>>> some_dict[5.5] = "Ruby"
>>> some_dict[5.0] = "Php"
>>> some_dict[5] = "Python"
```

**Output:**
```py
>>> some_dict[5.5]
'Ruby'
>>> some_dict[5.0]
'Python'
>>> some_dict[5]
'Python'
```

"Php" Ä‘Ã£ Ä‘i Ä‘Ã¢u?

#### ğŸ’¡ Giáº£i thÃ­ch:

* Bá»™ tá»« Ä‘iá»ƒn python kiá»ƒm tra tÃ­nh bÃ¬nh Ä‘áº³ng vÃ  so sÃ¡nh giÃ¡ trá»‹ cá»§a hÃ m bÄƒm Ä‘á»ƒ xÃ¡c Ä‘á»‹nh xem hai khÃ³a cÃ³ giá»‘ng nhau khÃ´ng.
* CÃ¡c Ä‘á»‘i tÆ°á»£ng báº¥t biáº¿n cÃ³ giÃ¡ trá»‹ giá»‘ng nhau luÃ´n cÃ³ cÃ¹ng giÃ¡ trá»‹ hÃ m bÄƒm.

```py
>>> 5.0 == 5
True
>>> hash(5.0) == hash(5)
True
>>>
```
  **ChÃº Ã½:** CÃ¡c giÃ¡ trá»‹ khÃ¡c nhau cÅ©ng cÃ³ thá»ƒ cÃ³ cÃ¹ng hÃ m bÄƒm (gá»i lÃ  va cháº¡m hÃ m bÄƒm).
* Khi cÃ¢u lá»‡nh `some_dict[5] = "Python"` Ä‘Æ°á»£c thá»±c hiá»‡n thÃ¬ giÃ¡ trá»‹ "Php" Ä‘Æ°á»£c ghi Ä‘Ã¨ bá»Ÿi "Python" bá»Ÿi vÃ¬ Python nháº­n Ä‘á»‹nh `5` vÃ  `5.0` lÃ  cÃ¹ng má»™t khÃ³a trong `some_dict`.

---

### â–¶ Trong sÃ¢u tháº³m, chÃºng ta Ä‘á»u giá»‘ng nhau! *

```py
class WTF:
	pass
```

**Output:**
```py
>>> WTF() == WTF() # 2 trÆ°á»ng há»£p khÃ¡c nhau khÃ´ng thá»ƒ báº±ng nhau
False
>>> WTF() is WTF() # danh tÃ­nh cÅ©ng sáº½ khÃ¡c nhau
False
>>> hash(WTF()) == hash(WTF())
True
>>> id(WTF()) == id(WTF())
True
```

#### ğŸ’¡ Giáº£i thÃ­ch:

* When `id` Ä‘Æ°á»£c gá»i, Python Ä‘Ã£ táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng lÃ  lá»›p `WTF` vÃ  truyá»n nÃ³ tá»›i hÃ m `id`. CÃ¡c `id` chá»©c nÄƒng máº¥t Ä‘i `id` cá»§a nÃ³ (chÃ­nh lÃ  vá»‹ trÃ­ bá»™ nhá»› cá»§a nÃ³), vÃ  xÃ³a Ä‘i cÃ¡c Ä‘á»‘i tÆ°á»£ng. Äá»‘i tÆ°á»£ng sáº½ bá»‹ phÃ¡ há»§y.

* Khi chÃºng ta thá»±c hiá»‡n viá»‡c nÃ y hai láº§n liÃªn tiáº¿p, Python sáº½ phÃ¢n bá»• vá»‹ trÃ­ bá»™ nhá»› tÆ°Æ¡ng tá»± cho Ä‘á»‘i tÆ°á»£ng thá»© hai nÃ y.Ká»ƒ tá»« khi (trong CPython) `id` sá»­ dá»¥ng vá»‹ trÃ­ bá»™ nhá»› nhÆ° lÃ  `id` Ä‘á»‘i tÆ°á»£ng, `id` cá»§a 2 Ä‘á»‘i tÆ°á»£ng lÃ  nhÆ° nhau.

* VÃ¬ váº­y, `id` cá»§a má»™t Ä‘á»‘i tÆ°á»£ng lÃ  duy nháº¥t trong suá»‘t vÃ²ng Ä‘á»i cá»§a Ä‘á»‘i tÆ°á»£ng. Sau khi Ä‘á»‘i tÆ°á»£ng bá»‹ phÃ¡ há»§y, hoáº·c trÆ°á»›c khi nÃ³ Ä‘Æ°á»£c táº¡o ra, cÃ³ thá»ƒ nhá»¯ng Ä‘á»‘i tÆ°á»£ng khÃ¡c cÃ³ thá»ƒ cÃ³ cÃ¹ng má»™t `id`.

* NhÆ°ng táº¡i sao `is` Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ lÃ  sai? HÃ£y xem Ä‘oáº¡n mÃ£ sau.
  ```py
  class WTF(object):
    def __init__(self): print("I ")
    def __del__(self): print("D ")
  ```

  **Output:**
  ```py
  >>> WTF() is WTF()
  I I D D
  >>> id(WTF()) == id(WTF())
  I D I D
  ```
  NhÆ° chÃºng ta cÃ³ thá»ƒ tháº¥y, thá»© tá»± mÃ  cÃ¡c váº­t thá»ƒ bá»‹ phÃ¡ há»§y lÃ  Ä‘iá»u táº¡o ra sá»± khÃ¡c biá»‡t á»Ÿ Ä‘Ã¢y.

### â–¶ Sai lá»‡ch thá»i gian Ä‘Ã¡nh giÃ¡

```py
array = [1, 8, 15]
g = (x for x in array if array.count(x) > 0)
array = [2, 8, 22]
```

**Output:**
```py
>>> print(list(g))
[8]
```

#### ğŸ’¡ Giáº£i thÃ­ch:

- Trong biá»ƒu thá»©c Generator, má»‡nh Ä‘á» `in` Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ táº¡i thá»i Ä‘iá»ƒm khai bÃ¡o, nhÆ°ng má»‡nh Ä‘á» Ä‘iá»u kiá»‡n Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ khi cháº¡y.
- VÃ¬ váº­y, trÆ°á»›c thá»i gian cháº¡y, máº£ng Ä‘Æ°á»£c gÃ¡n cho danh sÃ¡ch `[2, 8, 22]`, vÃ  trong sá»‘ `1`, `8` vÃ  `15`, chá»‰ cÃ³ Ä‘áº¿m `8` lá»›n hÆ¡n 0, vÃ¬ váº­y Generator chá»‰ táº¡o ra `8`.

---

### â–¶ `is` `is not` lÃ  gÃ¬!

Sau Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ kinh Ä‘iá»ƒn.

```py
>>> a = 256
>>> b = 256
>>> a is b
True

>>> a = 257
>>> b = 257
>>> a is b
False

>>> a = 257; b = 257
>>> a is b
True
```

#### ğŸ’¡ Giáº£i thÃ­ch:

**Sá»± khÃ¡c nhau giá»¯a `is` vÃ `==`**

* `is` lÃ  toÃ¡n tá»­ kiá»ƒm tra xem cáº£ hai toÃ¡n tá»­ cÃ³ cÃ¹ng tham chiáº¿u Ä‘áº¿n má»™t Ä‘á»‘i tÆ°á»£ng (nghÄ©a lÃ  nÃ³ kiá»ƒm tra xem danh tÃ­nh cá»§a cÃ¡c toÃ¡n háº¡ng cÃ³ khá»›p hay khÃ´ng).
* `==` lÃ  toÃ¡n tá»­ kiá»ƒm tra giÃ¡ trá»‹ cá»§a hai toÃ¡n háº¡ng.
* Váº­y `is` dÃ nh cho tham chiáº¿u danh tÃ­nh vÃ  `==` dÃ nh cho tham chiáº¿u giÃ¡ trá»‹. VÃ­ dá»¥ sau sáº½ chÃºng minh Ä‘iá»u Ä‘Ã³,
  ```py
  >>> [] == []
  True
  >>> [] is [] # Hai danh sÃ¡ch trá»‘ng náº±m á»Ÿ hai vá»‹ trÃ­ bá»™ nhá»› khÃ¡c nhau.
  False
  ```

**`256` lÃ  má»™t Ä‘á»‘i tÆ°á»£ng sáºµn cÃ³ nhÆ°ng `257` thÃ¬ khÃ´ng**

Khi báº¡n báº¯t Ä‘áº§u Python thÃ¬ cÃ¡c sá»‘ tá»« `-5` Ä‘áº¿n `256` sáº½ Ä‘Æ°á»£c phÃ¢n bá»•. Nhá»¯ng con sá»‘ nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng ráº¥t nhiá»u nÃªn nÃ³ sáº½ Ä‘Æ°á»£c dá»±ng sáºµn.

```py
>>> id(256)
10922528
>>> a = 256
>>> b = 256
>>> id(a)
10922528
>>> id(b)
10922528
>>> id(257)
140084850247312
>>> x = 257
>>> y = 257
>>> id(x)
140084850247440
>>> id(y)
140084850247344
```

á» Ä‘Ã¢y trÃ¬nh thÃ´ng dá»‹ch khÃ´ng Ä‘á»§ thÃ´ng minh trong khi thá»±c hiá»‡n `y = 257` Ä‘á»ƒ nháº­n ra ráº±ng chÃºng ta Ä‘Ã£ táº¡o ra má»™t sá»‘ nguyÃªn giÃ¡ trá»‹ `257`, vÃ  nÃ³ sáº½ tiáº¿p tá»¥c táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng khÃ¡c trong bá»™ nhá»›.

**Cáº£ `a` vÃ  `b` sáº½ cÃ¹ng tham kháº£o má»™t Ä‘á»‘i tÆ°á»£ng khi khá»Ÿi táº¡o cÃ¹ng má»™t giÃ¡ trá»‹ trÃªn má»™t dÃ²ng.**

```py
>>> a, b = 257, 257
>>> id(a)
140640774013296
>>> id(b)
140640774013296
>>> a = 257
>>> b = 257
>>> id(a)
140640774013392
>>> id(b)
140640774013488
```

* Khi `a` vÃ  `b` Ä‘Æ°á»£c thiáº¿t láº­p lÃ  257 trong cÃ¹ng má»™t dÃ²ng, trÃ¬nh thÃ´ng dá»‹ch Python táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng má»›i, sau Ä‘Ã³ tham kháº£o hai biáº¿n cÃ¹ng má»™t lÃºc. Náº¿u báº¡n khai bÃ¡o trÃªn 2 dÃ²ng riÃªng biá»‡t, nÃ³ sáº½ khÃ´ng "biáº¿t" ráº±ng Ä‘Ã£ cÃ³ 257 nhÆ° má»™t Ä‘á»‘i tÆ°á»£ng.
* ÄÃ³ lÃ  má»™t trÃ¬nh biÃªn dá»‹ch Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a vÃ  Ã¡p dá»¥ng cho mÃ´i trÆ°á»ng tÆ°Æ¡ng tÃ¡c.Khi báº¡n nháº­p vÃ o 2 dÃ²ng vÃ  thÃ´ng dá»‹ch trá»±c tiáº¿p, chÃºng sáº½ Ä‘Æ°á»£c biÃªn dá»‹ch riÃªng, do Ä‘Ã³ Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a riÃªng. CÃ²n trong tá»‡p tin `.py` báº¡n sáº½ khÃ´ng tháº¥y Ä‘iá»u nÃ y bá»Ÿi vÃ¬ cáº£ táº­p tin sáº½ Ä‘Æ°á»£c biÃªn dá»‹ch cÃ¹ng má»™t lÃºc.

### â–¶ HÃ m output bá»‹ dÃ­nh

```py
funcs = []
results = []
for x in range(7):
    def some_func():
        return x
    funcs.append(some_func)
    results.append(some_func())

funcs_results = [func() for func in funcs]
```

**Output:**
```py
>>> results
[0, 1, 2, 3, 4, 5, 6]
>>> funcs_results
[6, 6, 6, 6, 6, 6, 6]
```
Ngay cáº£ khi cÃ¡c giÃ¡ trá»‹ cá»§a x lÃ  khÃ¡c nhau trong má»—i láº§n láº·p láº¡i trÆ°á»›c khi ná»‘i `some_func` vÃ o `funcs`, táº¥t cáº£ cÃ¡c hÃ m tráº£ vá» 6.

//Hoáº·c

```py
>>> powers_of_x = [lambda x: x**i for i in range(10)]
>>> [f(2) for f in powers_of_x]
[512, 512, 512, 512, 512, 512, 512, 512, 512, 512]
```

#### ğŸ’¡ Giáº£i thÃ­ch:

- Khi xÃ¡c Ä‘á»‹nh má»™t hÃ m bÃªn trong má»™t vÃ²ng láº·p sá»­ dá»¥ng biáº¿n vÃ²ng láº·p trong thÃ¢n nÃ³, viá»‡c Ä‘Ã³ng vÃ²ng láº·p cá»§a hÃ m láº·p vá»›i biáº¿n, chá»© khÃ´ng pháº£i giÃ¡ trá»‹ cá»§a nÃ³. VÃ¬ váº­y, táº¥t cáº£ cÃ¡c chá»©c nÄƒng sá»­ dá»¥ng giÃ¡ trá»‹ má»›i nháº¥t Ä‘Æ°á»£c gÃ¡n cho biáº¿n Ä‘á»ƒ tÃ­nh toÃ¡n.
- Äá»ƒ cÃ³ Ä‘Æ°á»£c káº¿t quáº£ mong muá»‘n báº¡n cÃ³ thá»ƒ vÆ°á»£t qua biáº¿n vÃ²ng láº·p nhÆ° má»™t biáº¿n Ä‘Æ°á»£c Ä‘áº·t tÃªn cho hÃ m.Táº¡i sao nÃ³ hoáº¡t Ä‘á»™ng? Bá»Ÿi vÃ¬ Ä‘iá»u nÃ y sáº½ Ä‘á»‹nh nghÄ©a biáº¿n má»™t láº§n ná»¯a trong pháº¡m vi hÃ m.

    ```py
    funcs = []
    for x in range(7):
        def some_func(x=x):
            return x
        funcs.append(some_func)
    ```

    **Output:**
    ```py
    >>> funcs_results = [func() for func in funcs]
    >>> funcs_results
    [0, 1, 2, 3, 4, 5, 6]
    ```

---
### â–¶ `is not ...` khÃ´ng pháº£i lÃ  `is (not ...)`

```py
>>> 'something' is not None
True
>>> 'something' is (not None)
False
```

#### ğŸ’¡ Explanation

- `is not` lÃ  toÃ¡n tá»­ nhá»‹ phÃ¢n duy nháº¥t, vÃ  cÃ³ hÃ nh vi khÃ¡c vá»›i sá»­ dá»¥ng `is` vÃ  `not` .
- `is not`Ä‘Ã¡nh giÃ¡ lÃ  `False` náº¿u cÃ¡c biáº¿n á»Ÿ hai bÃªn cá»§a toÃ¡n tá»­ cÃ¹ng trá» Ä‘áº¿n cÃ¹ng má»™t Ä‘á»‘i tÆ°á»£ng vÃ  `True` náº¿u khÃ´ng.

---

### â–¶ Dáº¥u pháº£y thÃº vá»‹

**Output:**
```py
>>> def f(x, y,):
...     print(x, y)
...
>>> def g(x=4, y=5,):
...     print(x, y)
...
>>> def h(x, **kwargs,):
  File "<stdin>", line 1
    def h(x, **kwargs,):
                     ^
SyntaxError: invalid syntax
>>> def h(*args,):
  File "<stdin>", line 1
    def h(*args,):
                ^
SyntaxError: invalid syntax
```

#### ğŸ’¡ Giáº£i thÃ­ch:

- Trong Python dáº¥u pháº©y sau khÃ´ng pháº£i lÃ  luÃ´n luÃ´n há»£p lá»‡ trong danh sÃ¡ch tham sá»‘ chÃ­nh thá»©c.

---

### â–¶ KhÃ´ng báº¯c cáº§u!

```py
x = True
y = False
```

**Output:**
```py
>>> not x == y
True
>>> x == not y
  File "<input>", line 1
    x == not y
           ^
SyntaxError: invalid syntax
```

#### ğŸ’¡ Giáº£i thÃ­ch:

* Thá»© tá»± Æ°u tiÃªn cá»§a cÃ¡c toÃ¡n tá»­ áº£nh hÆ°á»Ÿng Ä‘áº¿n sá»± Æ°u tiÃªn cá»§a thuáº­t toÃ¡n, vÃ  toÃ¡n tá»­ `==` Ä‘Æ°á»£c Æ°u tiÃªn hÆ¡n toÃ¡n tá»­ `not` trong Python.
* VÃ¬ váº­y `not x == y` khÃ´ng tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `not (x == y)`vÃ  káº¿t quáº£ `not (True == False)` sáº½ lÃ  `True`.
* NhÆ°ng `x == not y` sáº½ sinh ra `SyntaxError` bá»Ÿi vÃ¬ nÃ³ Ä‘Æ°á»£c coi lÃ  tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `(x == not) y` khÃ´ng pháº£i lÃ  `x == (not y)`.

---

### â–¶ Má»™t ná»­a ba- chuá»—i trÃ­ch dáº«n

**Output:**
```py
>>> print('wtfpython''')
wtfpython
>>> print("wtfpython""")
wtfpython
>>> # Nhá»¯ng lá»‡nh sau sáº½ gÃ¢y ra lá»—i
>>> # print('''wtfpython')
>>> # print("""wtfpython")
```

#### ğŸ’¡ Giáº£i thÃ­ch:
+ Python ngáº§m há»— trá»£ [string literal concatenation](https://docs.python.org/2/reference/lexical_analysis.html#string-literal-concatenation), VÃ­ dá»¥,
  ```
  >>> print("wtf" "python")
  wtfpython
  >>> print("wtf" "") # or "wtf"""
  wtf
  ```
+ `'''` vÃ  `"""` cÅ©ng lÃ  bá»™ phÃ¢n tÃ¡ch chuá»—i trong python gÃ¢y ra lá»—i bá»Ÿi trÃ¬nh thÃ´ng dá»‹ch mong Ä‘á»£i cÃ¢u lá»‡nh 3 káº¿t thÃºc lÃ  dáº¥u phÃ¢n cÃ¡ch khi quÃ©t chuá»—i kÃ­ tá»±.

---

### â–¶ Chuyá»‡n gÃ¬ xáº£y ra vá»›i kiá»ƒu Booleans?

1\.
```py
# Má»™t vÃ­ dá»¥ Ä‘áº¿m sá»‘ biáº¿n kiá»ƒu Int vÃ  Booleans
mixed_list = [False, 1.0, "some_string", 3, True, [], False]
integers_found_so_far = 0
booleans_found_so_far = 0

for item in mixed_list:
    if isinstance(item, int):
        integers_found_so_far += 1
    elif isinstance(item, bool):
        booleans_found_so_far += 1
```

**Output:**
```py
>>> booleans_found_so_far
0
>>> integers_found_so_far
4
```

2\.
```py
another_dict = {}
another_dict[True] = "JavaScript"
another_dict[1] = "Ruby"
another_dict[1.0] = "Python"
```

**Output:**
```py
>>> another_dict[True]
"Python"
```

3\.
```py
>>> some_bool = True
>>> "wtf"*some_bool
'wtf'
>>> some_bool = False
>>> "wtf"*some_bool
''
```

#### ğŸ’¡ Giáº£i thÃ­ch:

* Booleans lÃ  má»™t phÃ¢n lá»›p `int`
  ```py
  >>> isinstance(True, int)
  True
  >>> isinstance(False, int)
  True
  ```

* GiÃ¡ trá»‹ kiá»ƒu Int cá»§a `True` lÃ  `1` vÃ  `False` lÃ  `0`.
  ```py
  >>> True == 1 == 1.0 and False == 0 == 0.0
  True
  ```

---

### â–¶ Thuá»™c tÃ­nh Class vÃ  thuá»™c tÃ­nh instance 

1\.
```py
class A:
    x = 1

class B(A):
    pass

class C(A):
    pass
```

**Ouptut:**
```py
>>> A.x, B.x, C.x
(1, 1, 1)
>>> B.x = 2
>>> A.x, B.x, C.x
(1, 2, 1)
>>> A.x = 3
>>> A.x, B.x, C.x
(3, 2, 3)
>>> a = A()
>>> a.x, A.x
(3, 3)
>>> a.x += 1
>>> a.x, A.x
(4, 3)
```

2\.
```py
class SomeClass:
    some_var = 15
    some_list = [5]
    another_list = [5]
    def __init__(self, x):
        self.some_var = x + 1
        self.some_list = self.some_list + [x]
        self.another_list += [x]
```

**Output:**

```py
>>> some_obj = SomeClass(420)
>>> some_obj.some_list
[5, 420]
>>> some_obj.another_list
[5, 420]
>>> another_obj = SomeClass(111)
>>> another_obj.some_list
[5, 111]
>>> another_obj.another_list
[5, 420, 111]
>>> another_obj.another_list is SomeClass.another_list
True
>>> another_obj.another_list is some_obj.another_list
True
```

#### ğŸ’¡ Explanation:

* CÃ¡c biáº¿n lá»›p vÃ  cÃ¡c biáº¿n trong Instances cá»§a lá»›p Ä‘Æ°á»£c xá»­ lÃ½ bÃªn trong cÃ¡c tá»« Ä‘iá»ƒn cá»§a má»™t Ä‘á»‘i tÆ°á»£ng lá»›p. Náº¿u tÃªn biáº¿n khÃ´ng tÃ¬m tháº¥y trong tá»« Ä‘iá»ƒn cá»§a lá»›p hiá»‡n táº¡i, cÃ¡c lá»›p cha sáº½ Ä‘Æ°á»£c tÃ¬m kiáº¿m nÃ³.
* ToÃ¡n tá»­ `+=` sá»­a Ä‘á»•i Ä‘á»‘i tÆ°á»£ng cÃ³ thá»ƒ thay Ä‘á»•i táº¡i chá»— mÃ  khÃ´ng cáº§n táº¡o Ä‘á»‘i tÆ°á»£ng má»›i.VÃ¬ váº­y, viá»‡c thay Ä‘á»•i thuá»™c tÃ­nh cá»§a má»™t Instances khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c Instances khÃ¡c vÃ  thuá»™c tÃ­nh lá»›p.

---

### â–¶ Thay Ä‘á»•i sá»± báº¥t biáº¿n!

```py
some_tuple = ("A", "tuple", "with", "values")
another_tuple = ([1, 2], [3, 4], [5, 6])
```

**Output:**
```py
>>> some_tuple[2] = "change this"
TypeError: 'tuple' object does not support item assignment
>>> another_tuple[2].append(1000) #This throws no error
>>> another_tuple
([1, 2], [3, 4], [5, 6, 1000])
>>> another_tuple[2] += [99, 999]
TypeError: 'tuple' object does not support item assignment
>>> another_tuple
([1, 2], [3, 4], [5, 6, 1000, 99, 999])
```

NhÆ°ng tuple Ä‘Ã£ thay Ä‘á»•i...

#### ğŸ’¡ Giáº£i thÃ­ch:

* ToÃ¡n tá»­ `+=` thay Ä‘á»•i danh sÃ¡ch táº¡i chá»—. Viá»‡c phÃ¢n cÃ´ng má»¥c khÃ´ng hoáº¡t Ä‘á»™ng, nhÆ°ng khi trÆ°á»ng há»£p ngoáº¡i lá»‡ xáº£y ra, má»¥c Ä‘Ã£ Ä‘Æ°á»£c thay Ä‘á»•i táº¡i chá»—.

---

### â–¶ Biáº¿n bá»‹ xÃ³a khá»i pháº¡m vi bÃªn ngoÃ i

```py
e = 7
try:
    raise Exception()
except Exception as e:
    pass
```

**Output (Python 2.x):**
```py
>>> print(e)
# prints nothing
```

**Output (Python 3.x):**
```py
>>> print(e)
NameError: name 'e' is not defined
```

#### ğŸ’¡ Giáº£i thÃ­ch:

* Nguá»“n: https://docs.python.org/3/reference/compound_stmts.html#except

  Khi má»™t exception Ä‘Æ°á»£c khai báº£o sá»­ dá»¥ng  `as` , nÃ³ sáº½ Ä‘Æ°á»£c xÃ³a vÃ o cuá»‘i except. NhÆ° lÃ 

  ```py
  except E as N:
      foo
  ```

  sáº½ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i

  ```py
  except E as N:
      try:
          foo
      finally:
          del N
  ```

  Äiá»u nÃ y cÃ³ nghÄ©a ngoáº¡i lá»‡ pháº£i Ä‘Æ°á»£c gÃ¡n cho má»™t tÃªn khÃ¡c Ä‘á»ƒ cÃ³ thá»ƒ tham chiáº¿u nÃ³ sau má»‡nh Ä‘á» `except`. Ngoáº¡i lá»‡ Ä‘Æ°á»£c xÃ³a vÃ¬ vá»›i truy váº¿t gáº¯n luyá»n vá»›i chÃºng, chÃºng táº¡o thÃ nh má»™t chu ká»³ tham chiáº¿u vá»›i khung ngÄƒn xáº¿p, giá»¯ táº¥t cáº£ biáº¿n Ä‘á»‹a phÆ°Æ¡ng trong khung Ä‘Ã³ cÃ²n sá»‘ng cho Ä‘áº¿n khi táº­p há»£p rÃ¡c tiáº¿p theo xáº£y ra.

* CÃ¡c má»‡nh Ä‘á» khÃ´ng pháº£i lÃ  pháº¡m vi trong python. Táº¥t cáº£ má»i thá»© trong vÃ­ dá»¥ Ä‘á»u cÃ³ cÃ¹ng pháº¡m vi, vÃ  biáº¿n `e` Ä‘Ã£ bá»‹ xÃ³a do thá»±c hiá»‡n má»‡nh Ä‘á» `except` TÆ°Æ¡ng tá»± nhÆ° váº­y:

     ```py
     def f(x):
         del(x)
         print(x)

     x = 5
     y = [5, 4, 3]
     ```

     **Output:**
     ```py
     >>>f(x)
     UnboundLocalError: local variable 'x' referenced before assignment
     >>>f(y)
     UnboundLocalError: local variable 'x' referenced before assignment
     >>> x
     5
     >>> y
     [5, 4, 3]
     ```

* Trong Python 2.x biáº¿n `e` Ä‘Æ°á»£c gÃ¡n cho `Exception()` , vÃ¬ váº­y khi báº¡n in, nÃ³ sáº½ khÃ´ng hiá»‡n gÃ¬ cáº£.

    **Output (Python 2.x):**
    ```py
    >>> e
    Exception()
    >>> print e
    # KhÃ´ng in ra gÃ¬ cáº£!
    ```

---

### â–¶ Khi `True` láº¡i lÃ  `False`

```py
True = False
if True == False:
    print("TÃ´i Ä‘Ã£ máº¥t niá»m tin!")
```

**Output:**
```
TÃ´i Ä‘Ã£ máº¥t niá»m tin!
```

#### ğŸ’¡ Explanation:

- Ban Ä‘áº§u, Python Ä‘Ã£ tá»«ng khÃ´ng cÃ³ kiá»ƒu `Bool` ( ngÆ°á»i ta sá»­ dá»¥ng `0` cho giÃ¡ trá»‹ sai vÃ  `1` cho giÃ¡ trá»‹ Ä‘Ãºng). Sau Ä‘Ã³ há» thÃªm `True` vÃ  `False` nhÆ° má»™t kiá»ƒu `bool` , nhÆ°ng Ä‘á»‘i vá»›i sá»± tÆ°Æ¡ng thÃ­ch ngÆ°á»£c, há» khÃ´ng thá»ƒ táº¡o ra cÃ¡c háº±ng sá»‘ `True` vÃ  `False` - chÃºng chá»‰ lÃ  cÃ¡c biÃªn Ä‘Æ°á»£c xÃ¢y dá»±ng.
- Python 3 sáº½ kháº¯c phá»¥c Ä‘iá»u nÃ y.

---

### â–¶ Tá»« Ä‘áº§y Ä‘áº¿n khÃ´ng cÃ³ gÃ¬ trong má»™t chá»‰ dáº«n...

```py
some_list = [1, 2, 3]
some_dict = {
  "key_1": 1,
  "key_2": 2,
  "key_3": 3
}

some_list = some_list.append(4)
some_dict = some_dict.update({"key_4": 4})
```

**Output:**
```py
>>> print(some_list)
None
>>> print(some_dict)
None
```

#### ğŸ’¡ Giáº£i thÃ­ch:

Háº§u háº¿t cÃ¡c phÆ°Æ¡ng phÃ¡p sá»­a Ä‘á»•i cÃ¡c má»¥c cá»§a cÃ¡c Ä‘á»‘i tÆ°á»£ng tuáº§n tá»±/ Ã¡nh xáº¡ nhÆ° `list.append, dict.update, list.sort,vv.` sá»­a Ä‘á»•i cÃ¡c phÆ°Æ¡ng thá»©c táº¡i chá»— vÃ  tráº£ vá» `None`. LÃ½ do Ä‘áº±ng sau viá»‡c nÃ y lÃ  Ä‘á»ƒ cáº£i thiá»‡n nÄƒng suáº¥t báº±ng cÃ¡ch trÃ¡nh táº¡o ra má»™t báº£n sao cá»§a Ä‘á»‘i tÆ°á»£ng náº¿u thao tÃ¡c cÃ³ thá»ƒ thá»±c hiá»‡n táº¡i chá»— (Tháº£m kháº£o [á»Ÿ Ä‘Ã¢y](http://docs.python.org/2/faq/design.html#why-doesn-t-list-sort-return-the-sorted-list))

---

### â–¶ Báº¡n cÃ³ thá»ƒ Ä‘oÃ¡n Ä‘Æ°á»£c Ä‘iá»u nÃ y khÃ´ng?

```py
a, b = a[b] = {}, 5
```

**Output:**
```py
>>> a
{5: ({...}, 5)}
```

#### ğŸ’¡ Giáº£i thÃ­ch:

* Ghi láº¡i tá»« [Python language reference](https://docs.python.org/2/reference/simple_stmts.html#assignment-statements), má»™t cÃ¢u tuyÃªn bá»‘ cÃ³ dáº¡ng
  ```
  (target_list "=")+ (expression_list | yield_expression)
  ```
  vÃ  
  > Má»™t cÃ¢u lá»‡nh gÃ¡n Ä‘Ã¡nh giÃ¡ danh sÃ¡ch biá»ƒu thá»©c( hÃ£y nhá»› ráº±ng Ä‘Ã¢y cÃ³ thá»ƒ lÃ  má»™t biá»ƒu thá»©c Ä‘Æ¡n hoáº·c má»™t danh sÃ¡ch Ä‘Æ°á»£c phÃ¢n cÃ¡ch báº±ng dáº¥u pháº©y, sau Ä‘Ã³ sáº½ cho ra má»™t `tuple`) vÃ  chá»‰ Ä‘á»‹nh Ä‘á»‘i tÆ°á»£ng káº¿t quáº£ duy nháº¥t cho má»—i danh sÃ¡ch má»¥c tiÃªu, tá»« trÃ¡i sang pháº£i.

* Dáº¥u `+` trong `(target_list "=")+` cÃ³ nghÄ©a lÃ  cÃ³ thá»ƒ **má»™t hoáº·c nhiá»u** danh sÃ¡ch má»¥c tiÃªu. Trong trÆ°á»ng há»£p nÃ y danh sÃ¡ch Ä‘Ã­ch lÃ  `a, b` vÃ  `a[b]` (lÆ°u Ã½ ráº±ng danh sÃ¡ch biá»ƒu thá»©c lÃ  chÃ­nh xÃ¡c, trong trÆ°á»ng há»£p cá»§a chÃºng ta lÃ  `{}, 5`).

* Sau khi Ä‘Ã¡nh giÃ¡ biá»ƒu thá»©c, giÃ¡ trá»‹ cá»§a nÃ³ Ä‘Æ°á»£c gáº¯n vÃ o danh sÃ¡ch má»¥c tiÃªu **tá»« trÃ¡i qua pháº£i**. VÃ¬ váº­y, trong trÆ°á»ng há»£p cá»§a chÃºng ta, Ä‘áº§u tiÃªn lÃ  `{}, 5` Ä‘Æ°á»£c gáº¯n vÃ o `a, b` vÃ  bÃ¢y giá» chÃºng ta cÃ³ `a = {}` vÃ  `b = 5`.

* `a` dÆ°á»£c gÃ¡n cho `{}` má»™t Ä‘á»‘i tÆ°á»£ng cÃ³ thá»ƒ thay Ä‘á»•i.

* Danh sÃ¡ch má»¥c tiÃªu thá»© hai lÃ   `a[b]` (báº¡n cÃ³ thá»ƒ mong Ä‘á»£i Ä‘iá»u nÃ y Ä‘Æ°a ra má»™t lá»—i vÃ¬ cáº£ `a` vÃ  `b` chÆ°a Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong cÃ¡c cÃ¢u lá»‡nh trÆ°á»›c Ä‘Ã³. NhÆ°ng hÃ£y nhá»› chÃºng ta chá»‰ cáº§n gÃ¡n cho `a` vá»›i `{}` vÃ  `b` vá»›i `5`).

* BÃ¢y giá», chÃºng ta thiáº¿t láº­p `5` trong `dict` vÃ  `tuple` `({}, 5)` táº¡o ra má»™t tham chiáº¿u xoay vÃ²ng ( `{...}` cÃ¹ng Ä‘á» cáº­p Ä‘áº¿n má»™t Ä‘á»‘i tywowjng mÃ  `a` Ä‘Ã£ tham chiáº¿u). má»™t vÃ­ dá»¥ khÃ¡c cá»§a tham chiáº¿u xoay vÃ²ng lÃ 
  ```py
  >>> some_list = some_list[0] = [0]
  >>> some_list
  [[...]]
  >>> some_list[0]
  [[...]]
  >>> some_list is some_list[0]
  True
  >>> some_list[0][0][0][0][0][0] == some_list
  True
  ```
  Tuuwong tá»± trÆ°á»ng há»£p trong vÃ­ dá»¥ trÃªn (`a[b][0]` cÃ¹ng lÃ  má»™t Ä‘á»‘i tÆ°á»£ng nhÆ° `a`)

* VÃ¬ váº­y Ä‘á»ƒ tá»•ng há»£p nÃ³ lÃªn, báº¡n cÃ³ thá»ƒ lÃ m nhÆ° vÃ­ dá»¥ sau
  ```py
  a, b = {}, 5
  a[b] = a, b
  ```
  VÃ  tham chiáº¿u xoay vÃ²ng Ä‘Æ°á»£c chá»©ng minh bá»Ÿi má»™t thá»±c táº¿ lÃ  `a[b][0]` cÅ©ng tÆ°Æ¡ng tá»± vá»›i Ä‘á»‘i tÆ°á»£ng `a`
  ```py
  >>> a[b][0] is a
  True
  ```

---

## Pháº§n 2: Cáº©n tháº­n sÃ¡t thÆ°Æ¡ng diá»‡n rá»™ng!


### â–¶ Chá»‰nh sá»­a má»™t tá»« Ä‘iá»ƒn trong khi Iterating

```py
x = {0: None}

for i in x:
    del x[i]
    x[i+1] = None
    print(i)
```

**Output (Python 2.7- Python 3.5):**

```
0
1
2
3
4
5
6
7
```

NÃ³ cháº¡y Ä‘Ãºng **8** láº§n vÃ  dá»«ng láº¡i.

#### ğŸ’¡ Giáº£i thÃ­ch:

* Viá»‡c láº·p láº¡i má»™t tá»« Ä‘iá»ƒn mÃ  báº¡n Ä‘ang chá»‰nh sá»­a cÃ¹ng lÃºc khÃ´ng Ä‘Æ°á»£c há»— trá»£.
* NÃ³ cháº¡y tÃ¡m láº§n bá»Ÿi vÃ¬ Ä‘Ã³ lÃ  Ä‘iá»ƒm mÃ  tá»« Ä‘iá»ƒn thay Ä‘á»•i kÃ­ch cá»¡ Ä‘á»ƒ giá»¯ nhiá»u khÃ³a hÆ¡n( chÃºng ta Ä‘Ã£ cÃ³ 8 má»¥c xÃ³a, vÃ¬ váº­y cáº§n thay Ä‘á»•i kÃ­ch thÆ°á»›c). ÄÃ¢y lÃ  má»™t chi tiáº¿t quan trá»ng.
* KhÃ³a Ä‘Æ°á»£c xá»­ lÃ½ nhÆ° tháº¿ nÃ o vÃ  khi thay Ä‘á»•i kÃ­ch cá»¡ xáº£y ra cÃ³ thá»ƒ khÃ¡c nhau vá»›i cÃ¡c phiÃªn abrn Python khÃ¡c nhau.
* Äá»ƒ biáº¿t thÃªm chi tiáº¿t, báº¡n cÃ³ thá»ƒ tham kháº£o bÃ i viáº¿t StackOverflow [thread](https://stackoverflow.com/questions/44763802/bug-in-python-dict) sáº½ giáº£i quyáº¿t má»™t vÃ­ dá»¥ tÆ°Æ¡ng tá»±.

---

### â–¶ XÃ³a má»™t pháº§n tá»­ trong `list` trong khi `iterating`

```py
list_1 = [1, 2, 3, 4]
list_2 = [1, 2, 3, 4]
list_3 = [1, 2, 3, 4]
list_4 = [1, 2, 3, 4]

for idx, item in enumerate(list_1):
    del item

for idx, item in enumerate(list_2):
    list_2.remove(item)

for idx, item in enumerate(list_3[:]):
    list_3.remove(item)

for idx, item in enumerate(list_4):
    list_4.pop(idx)
```

**Output:**
```py
>>> list_1
[1, 2, 3, 4]
>>> list_2
[2, 4]
>>> list_3
[]
>>> list_4
[2, 4]
```


#### ğŸ’¡ Giáº£i thÃ­ch:

* CÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ báº¡n thay Ä‘á»•i má»™t Ä‘á»‘i tÆ°á»£ng trong khi iterating nÃ³ Ä‘Ã³ lÃ  táº¡o má»™t báº£n sao Ä‘á»‘i tÆ°á»£ng nhÆ° `list_3[:]` .

     ```py
     >>> some_list = [1, 2, 3, 4]
     >>> id(some_list)
     139798789457608
     >>> id(some_list[:]) # LÆ°u Ã½ ráº±ng python sáº½ táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng má»›i cho danh sÃ¡ch nÃ y.
     139798779601192
     ```

**Sá»± khÃ¡c nhau giá»¯a `del`, `remove`, vÃ  `pop`:**
* `del var_name` sáº½ loáº¡i bá» cÃ¡c rÃ ng buá»™c `var_name` tá»« tÃªn biáº¿n cá»¥c bá»™ hoáº·c toÃ n cá»¥c (Äiá»u Ä‘Ã³ lÃ½ giáº£i táº¡i sao `list_1` khÃ´ng bá»‹ áº£nh hÆ°á»Ÿng).
* `remove` sáº½ loáº¡i bá» cÃ¡c giÃ¡ trá»‹ phÃ¹ há»£p Ä‘áº§u tiÃªn, khÃ´ng pháº£i lÃ  má»™t chá»‰ sá»‘ cá»¥ thá»ƒ, sáº½ táº¡o ra `ValueError` náº¿u giÃ¡ trá»‹ khÃ´ng tÃ¬m tháº¥y.
* `pop` sáº½ loáº¡i bá» cÃ¡c pháº§n tá»­ táº¡i má»™t chá»‰ má»¥c cá»¥ thá»ƒ vÃ  tráº£ vá» nÃ³,vÃ  táº¡o ra `IndexError` náº¿u chá»‰ sá»‘ khÃ´ng há»£p lá»‡ Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh.

**Táº¡i sao Ä‘áº§u ra lÃ  `[2, 4]`?**
- Viá»‡c iteration Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng chá»‰ má»¥c, vÃ  khi chÃºng ta loáº¡i bá» `1` tá»« `list_2` hoáº·c `list_4`, ná»™i dung danh sÃ¡ch giá» lÃ  `[2, 3, 4]`. CÃ¡c pháº§n tá»­ cÃ²n láº¡i Ä‘Æ°á»£c chuyá»ƒn xuá»‘ng, nghÄ©a lÃ , `2` sáº½ cÃ³ chá»‰ má»¥c lÃ  0, vÃ  `3` lÃ  1. Ká»ƒ tá»« láº§n láº­p káº¿ tiáº¿p sáº½ xem chá»‰ sá»‘ 1 (cÃ³ giÃ¡ trá»‹ `3`), khÃ³a `2` Ä‘Æ°á»£c loáº¡i bá» toÃ n. Má»™t Ä‘iá»u tÆ°Æ¡ng tá»± sáº½ xáº£y ra vá»›i cÃ¡c pháº§n tá»­ luÃ¢n phiÃªn trong dÃ£y danh sÃ¡ch.

* Tham kháº£o StackOverflow [thread](https://stackoverflow.com/questions/45946228/what-happens-when-you-try-to-delete-a-list-element-while-iterating-over-it) má»™t vÃ­ dá»¥ giáº£i thÃ­ch
* CÅ©ng cÃ³ thá»ƒ tham kháº£o StackOverflow [thread](https://stackoverflow.com/questions/45877614/how-to-change-all-the-dictionary-keys-in-a-for-loop-with-d-items)cho má»™t vÃ­ dá»¥ liÃªn quan Ä‘áº¿n tá»« Ä‘iá»ƒn trong Python.

---

### â–¶ RÃ² rá»‰ biáº¿n vÃ²ng láº·p!

1\.
```py
for x in range(7):
    if x == 6:
        print(x, ': x lÃ  biáº¿n vÃ²ng láº·p')
print(x, ': x lÃ  biáº¿n toÃ n cá»¥c')
```

**Output:**
```py
6 : x lÃ  biáº¿n vÃ²ng láº·p
6 : x lÃ  biáº¿n toÃ n cá»¥c
```

NhÆ°ng `x` chÆ°a tá»«ng Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a bÃªn ngoÃ i vÃ²ng láº·p...

2\.
```py
# Láº§n nÃ y chÃºng ta sáº½ khá»Ÿi táº¡o x Ä‘áº§u tiÃªn
x = -1
for x in range(7):
    if x == 6:
        print(x, ': x lÃ  biáº¿n vÃ²ng láº·p')
print(x, ': x lÃ  biáº¿n toÃ n cá»¥c')
```

**Output:**
```py
6 : for x inside loop
6 : x lÃ  biáº¿n toÃ n cá»¥c
```

3\.
```
x = 1
print([x for x in range(5)])
print(x, ': x lÃ  biáº¿n toÃ n cá»¥c')
```

**Output (on Python 2.x):**
```
[0, 1, 2, 3, 4]
(4, ': x lÃ  biáº¿n toÃ n cá»¥c')
```

**Output (on Python 3.x):**
```
[0, 1, 2, 3, 4]
1 : x lÃ  biáº¿n toÃ n cá»¥c
```

#### ğŸ’¡ Giáº£i thÃ­ch:

- Trong Python, vÃ²ng láº·p for sá»­ dá»¥ng pháº¡m vi chÃºng tá»“n táº¡i vÃ  Ä‘á»ƒ láº¡i biáº¿n sá»‘ vÃ²ng láº·p xÃ¡c Ä‘á»‹nh cá»§a chÃºng. Äiá»u anfy cÅ©ng Ã¡p dá»¥ng náº¿u chÃºng ta xÃ¡c Ä‘á»‹nh rÃµ rÃ ng biáº¿n vÃ²ng láº·p trong khÃ´ng gian toÃ n cá»¥c trÆ°á»›c Ä‘Ã³.Trong trÆ°á»ng há»£p nÃ y, nÃ³ sáº½ rebline biáº¿n Ä‘Ã£ tá»“n táº¡i.

- Äiá»u nÃ y sáº½ Ä‘Æ°á»£c thay Ä‘á»•i trong Python3

---

### â–¶ HÃ£y coi chá»«ng cÃ¡c Ä‘á»‘i sá»‘ máº·c Ä‘á»‹nh cÃ³ thá»ƒ thay Ä‘á»•i!

```py
def some_func(default_arg=[]):
    default_arg.append("some_string")
    return default_arg
```

**Output:**
```py
>>> some_func()
['some_string']
>>> some_func()
['some_string', 'some_string']
>>> some_func([])
['some_string']
>>> some_func()
['some_string', 'some_string', 'some_string']
```

#### ğŸ’¡ Giáº£i thÃ­ch:

- Máº·c Ä‘á»‹nh, cÃ¡c Ä‘á»‘i sá»‘ cá»§a cÃ¡c hÃ m Python khÃ´ng thá»±c sá»± Ä‘Æ°á»£c khá»Ÿi táº¡o má»—i khi báº¡n gá»i hÃ m. Thay vÃ o Ä‘Ã³, giÃ¡ trá»‹ cá»§a hÃ m gáº§n nháº¥t Ä‘Æ°á»£c gÃ¡n ngay cho chÃºng sá»­ dá»¥ng lÃ m giÃ¡ trá»‹ máº·c Ä‘á»‹nh. Khi chÃºng ta thÃ´ng qua má»™t cÃ¡ch rÃµ rÃ ng `[]` Ä‘á»ƒ `some_func` nhÆ° Ä‘á»‘i sá»‘, giÃ¡ trá»‹ máº·c Ä‘á»‹nh cá»§a biáº¿n `default_arg` khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng, do Ä‘Ã³ hÃ m tráº£ vá» nhÆ° mong Ä‘á»£i.

    ```py
    def some_func(default_arg=[]):
        default_arg.append("some_string")
        return default_arg
    ```

    **Output:**
    ```py
    >>> some_func.__defaults__ #This will show the default argument values for the function
    ([],)
    >>> some_func()
    >>> some_func.__defaults__
    (['some_string'],)
    >>> some_func()
    >>> some_func.__defaults__
    (['some_string', 'some_string'],)
    >>> some_func([])
    >>> some_func.__defaults__
    (['some_string', 'some_string'],)
    ```

- Má»™t cÃ¡ch phá»• biáº¿n Ä‘á»ƒ trÃ¡nh lá»—i Ä‘Ã³ lÃ  cÃ¡c Ä‘á»‘i sá»‘ cÃ³ thá»ƒ thay Ä‘á»•i Ä‘Æ°á»£c gÃ¡n cho `None` nhÆ°u lÃ  má»™t giÃ¡ trá»‹ máº·c Ä‘á»‹nh vÃ  sau Ä‘Ã³ kiá»ƒm tra náº¿u báº¥t ká»³ giÃ¡ trá»‹ nÃ o Ä‘Æ°á»£c truyá»n cho hÃ m tÆ°Æ¡ng á»©ng vá»›i Ä‘á»‘i sá»‘ Ä‘Ã³ , VÃ­ dá»¥:

    ```py
    def some_func(default_arg=None):
        if not default_arg:
            default_arg = []
        default_arg.append("some_string")
        return default_arg
    ```

---

### â–¶ CÃ¹ng toÃ¡n háº¡ng, nhÆ°ng lÃ  hai chuyá»‡n khÃ¡c nhau!

1\.
```py
a = [1, 2, 3, 4]
b = a
a = a + [5, 6, 7, 8]
```

**Output:**
```py
>>> a
[1, 2, 3, 4, 5, 6, 7, 8]
>>> b
[1, 2, 3, 4]
```

2\.
```py
a = [1, 2, 3, 4]
b = a
a += [5, 6, 7, 8]
```

**Output:**
```py
>>> a
[1, 2, 3, 4, 5, 6, 7, 8]
>>> b
[1, 2, 3, 4, 5, 6, 7, 8]
```

#### ğŸ’¡ Gá»‰ai thÃ­ch:

*  `a += b` khÃ´ng pháº£i luÃ´n luÃ´n giá»‘ng `a = a + b`.  CÃ¡c lá»›p *cÃ³ thá»ƒ* triá»ƒn khai cÃ¡c toÃ¡n tá»­  *`op=`* khÃ¡c nhau, vÃ  `list` sáº½ lÃ m nÃ³.

* Biá»ƒu thá»©c `a = a + [5,6,7,8]` táº¡o ra má»™t danh sÃ¡ch má»›i vÃ  Ä‘áº·t tham chiáº¿u `a`'s Ä‘áº¿n danh sÃ¡ch má»›i Ä‘Ã³, vÃ  `b` khoogn thay Ä‘á»•i.

* Biá»ƒu thá»©c `a + =[5,6,7,8]` thá»±c sá»± Ä‘Æ°á»£c Ã¡nh xáº¡ Ä‘áº¿n hÃ m "extend" hoáº¡t Ä‘á»™ng trÃªn danh sÃ¡ch sao chot `a` vÃ  `b` váº«n trá» Ä‘áº¿n cÃ¹ng má»™t danh sÃ¡ch Ä‘Æ°á»£c bá»• sung táº¡i chá»—.

---

### â–¶ VÆ°á»£t qua khá»i pháº¡m vi biáº¿n

```py
a = 1
def some_func():
    return a

def another_func():
    a += 1
    return a
```

**Output:**
```py
>>> some_func()
1
>>> another_func()
UnboundLocalError: local variable 'a' referenced before assignment
```

#### ğŸ’¡ Giáº£i thÃ­ch:
* Äá»ƒ thay Ä‘á»•i má»™t biáº¿n toÃ n cá»¥c báº¡n pháº£i khai bÃ¡o nÃ³
  ```py
  def another_func()
      global a
      a += 1
      return a
  ```
  
  **Output:**
  ```py
  >>> another_func()
  2
  ```

---

### â–¶ HÃ£y cáº©n tháº­n vá»›i toÃ¡n tá»­

```py
>>> (False == False) in [False] 
False
>>> False == (False in [False]) 
False
>>> False == False in [False] 
True

>>> True is False == False
False
>>> False is False is False
True

>>> 1 > 0 < 1
True
>>> (1 > 0) < 1
False
>>> 1 > (0 < 1)
False
```

#### ğŸ’¡ Giáº£i thÃ­ch:

Theo https://docs.python.org/2/reference/expressions.html#not-in

* `False is False is False` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `(False is False) vÃ  (False is False)`
* `True is False == False` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `True is False and False == False` vÃ  pháº§n Ä‘áº§u tuyÃªn bá»‘ (`True is False`) Ä‘Ã¡nh giÃ¡ lÃ  `False`, vÃ  káº¿t quáº£ lÃ  `False`.
* `1 > 0 < 1` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `1 > 0 and 0 < 1` vÃ  káº¿t quáº£ lÃ  `True`.
* Biá»ƒu thá»©c `(1 > 0) < 1` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `True < 1` 
  ```py
  >>> int(True)
  1
  >>> True + 1 #khÃ´ng liÃªn quan Ä‘áº¿n vÃ­ dá»¥ nÃ y,just fun!
  2
  ```
  Váº­y, `1 < 1` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `False`

---

### â–¶ TÃªn quyáº¿t Ä‘á»‹nh bá» qua pháº¡m vi biáº¿n

1\.
```py
x = 5
class SomeClass:
    x = 17
    y = (x for i in range(10))
```

**Output:**
```py
>>> list(SomeClass.y)[0]
5
```

2\.
```py
x = 5
class SomeClass:
    x = 17
    y = [x for i in range(10)]
```

**Output (Python 2.x):**
```py
>>> SomeClass.y[0]
17
```

**Output (Python 3.x):**
```py
>>> SomeClass.y[0]
5
```

#### ğŸ’¡ Giáº£i thÃ­ch:
- CÃ¡c pháº¡m vi lá»“ng bÃªn trong Ä‘á»‹nh nghÄ©a lá»›p bá» qua cÃ¡c rÃ ng buá»™c á»Ÿ cáº¥p lá»›p.
- CÃ¡c biá»ƒu thá»©c generator cÃ³ má»™t pháº¡m vi riÃªng.

---

### â–¶ Cáº¯t xáº» thá»i gian! *

```py
class Yo(object):
    def __init__(self):
        self.__honey = True
        self.bitch = True
```

**Output:**
```py
>>> Yo().bitch
True
>>> Yo().__honey
AttributeError: 'Yo' object has no attribute '__honey'
>>> Yo()._Yo__honey
True
```

Táº¡i sao `Yo()._Yo__honey` hoáº¡t Ä‘á»™ng? Chá»‰ cÃ³ ngÆ°á»i áº¥n Ä‘á»™ má»›i hiá»ƒu :)).

#### ğŸ’¡ Giáº£i thÃ­ch:

* [Name Mangling](https://en.wikipedia.org/wiki/Name_mangling) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ trÃ¡nh viá»‡c va cháº¡m giá»¯a cÃ¡c khÃ´ng gian tÃªn khÃ¡c nhau.
* Trong Python, trÃ¬nh thÃ´ng (cáº¯t xáº») cÃ¡c tÃªn thÃ nh viÃªn lá»›p `__` (hai dáº¥u gáº¡ch dÆ°á»›i) vÃ  káº¿t thÃºc báº±ng nhiá»u dáº¥u gáº¡ch dÆ°á»›i báº±ng cÃ¡ch thÃªm  `_NameOfTheClass` á»Ÿ phÃ­a trÆ°á»›c.
* VÃ¬ váº­y, Ä‘á»ƒ truy cáº­p thuá»™c tÃ­nh `__honey` , chÃºng ta pháº£i thÃªm `_Yo` vÃ o phÃ­a trÆ°á»›c nháº±m ngÄƒn ngá»«a xung Ä‘á»™t vá»›i cÃ¹ng má»™t thuá»™c tÃ­nh `name` Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong báº¥t kÃ¬ lá»›p nÃ o khÃ¡c.

---


### â–¶ `+=` cÃ³ nhanh hÆ¡n

```py
# sá»­ dá»¥ng "+", ba chuá»—i:
>>> timeit.timeit("s1 = s1 + s2 + s3", setup="s1 = ' ' * 100000; s2 = ' ' * 100000; s3 = ' ' * 100000", number=100)
0.25748300552368164
# sá»­ dá»¥ng "+=", ba chuá»—i:
>>> timeit.timeit("s1 += s2 + s3", setup="s1 = ' ' * 100000; s2 = ' ' * 100000; s3 = ' ' * 100000", number=100)
0.012188911437988281
```

#### ğŸ’¡ Giáº£i thÃ­ch:
+ `+=` nhanh hÆ¡n `+` Ä‘á»ƒ ghÃ©p ná»‘i nhiá»u hÆ¡n hai chuá»—i vÃ¬ chuá»—i Ä‘áº§u tiÃªn (vÃ­ dá»¥, `s1` cho `s1 += s2 + s3`) khÃ´ng bá»‹ phÃ¡ há»§y trong khi tÃ­nh toÃ¡n chuá»—i hoÃ n chá»‰nh.

---

### â–¶ Cáº¥u trÃºc rÃµ rÃ ng cá»§a chuá»‘i

```py
a = float('inf')
b = float('nan')
c = float('-iNf')  
d = float('nan')
```

**Output:**
```py
>>> a
inf
>>> b
nan
>>> c
-inf
>>> float('some_other_string')
ValueError: could not convert string to float: some_other_string
>>> a == -c #inf==inf
True
>>> None == None # None==None
True
>>> b == d #but nan!=nan
False
>>> 50/a
0.0
>>> a/a
nan
>>> 23 + b
nan
```

#### ğŸ’¡ Giáº£i thÃ­ch:

`'inf'` vÃ  `'nan'` lÃ  hai chuá»—i Ä‘áº·c biá»‡t (trÆ°á»ng há»£p nháº¡y cáº£m), mÃ  khi Ä‘Æ°á»£c hiá»ƒn thá»‹ rÃµ rÃ ng vá»›i kiá»ƒu `float` , Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘áº¡i Ä‘iá»‡n cho `sá»‘ vÃ´ cÃ¹ng` vÃ  `khÃ´ng pháº£i sá»‘`.

---
